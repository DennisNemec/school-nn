{% extends "base/base.html" %}
{% load static %}
{% load breadcrumbs %}

{% block title %}Datensatz  {{dataset.name}} bearbeiten{% endblock %}

{% block breadcrumbs %}
    {% breadcrumb_url "Datensätze" "dataset-list" %}
    {% url "dataset-detail" dataset.id as detail_url %}
    {% url "dataset-edit" dataset.id as edit_url %}
    {% breadcrumb dataset.name detail_url %}
    {% breadcrumb "Bearbeiten" edit_url %}
{% endblock %}

{% block top %}
    <h1>Datensatz: &bdquo;{{ dataset.name }}&ldquo;</h1>
    <a href="{% url 'dataset-delete' pk=dataset.id %}" class="button-standard">
        <p>Löschen</p>
    </a>
{% endblock %}

{% block main %}
    <div class="mb-5"> 
        <h3 class="font-bold text-lg">Allgemeines</h3>
        <div class="p-4">
            <form method="post">
                {% csrf_token %}
                <div class="w-1/4">
                    <div class="flex flex-wrap justify-between w-full">
                        <label>ID:</label>
                        <input type="text" value="{{dataset.id}}" disabled>
                    </div>  

                    <div class="flex flex-wrap justify-between w-full">
                        <label>Name:</label>
                        <input name="name" type="text" value="{{dataset.name}}" >
                    </div>

                    <div class="flex flex-wrap justify-between w-full">
                        <label>Ersteller:</label>
                        <input type="text"  value="{{dataset.user.name}}" disabled>
                    </div>

                    <div class="flex flex-wrap justify-between w-full">
                        <label>Benutzerdefiniert:</label>
                        <input type="text" value="{{dataset.custom}}" disabled>
                    </div>

                    <div class="flex flex-wrap justify-between w-full">
                        <label>Erstellt am:</label>
                        <input type="text" value="{{dataset.created_at}}" disabled>
                    </div>

                    <div class="flex flex-wrap justify-between w-full">
                        <label>Geändert am:</label>
                        <input type="text" value="{{dataset.updated_at}}" disabled>
                    </div>
                </div>


                <input type="submit" class="w-32 button-standard" value="Speichern">
            </form>
        </div>
    </div>

    <div class="w-full mb-4">
        <h3 class="font-bold text-lg">Unklassifizierte Bilder</h3>

        <div class="p-4"> 
            {% include "datasets/partials/dataset_classify_form.html" with form=classify_form %}
        </div>
    </div>

    <div class="w-full min-h-screen">
        <h3 class="font-bold text-lg">Klassen</h3>

        {% include "datasets/partials/label_list_with_add.html" with labels=dataset.label_set.all %}
    </div>
{% endblock %}
